{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/REACT/chat-apppp/src/Layout.js\";\nimport React, { Component } from 'react';\nimport io from 'socket.io-client';\nimport { USER_CONNECTED, LOGOUT } from './Events';\nimport LoginForm from './LoginForm';\nimport ChatContainer from './chat/ChatContainer';\nconst socketUrl = \"http://localhost:3231\";\nexport default class Layout extends Component {\n  constructor(props) {\n    super(props);\n\n    this.initSocket = () => {\n      const socket = io(socketUrl);\n      socket.on('connect', () => {\n        console.log(\"Connected\");\n      });\n      this.setState({\n        socket\n      });\n    };\n\n    this.setUser = user => {\n      const socket = this.state.socket;\n      socket.emit(USER_CONNECTED, user);\n      this.setState({\n        user\n      });\n    };\n\n    this.logout = () => {\n      const socket = this.state.socket;\n      socket.emit(LOGOUT);\n      this.setState({\n        user: null\n      });\n    };\n\n    this.state = {\n      socket: null,\n      user: null\n    };\n  }\n\n  componentWillMount() {\n    this.initSocket();\n  }\n\n  render() {\n    const title = this.props.title;\n    const _this$state = this.state,\n          socket = _this$state.socket,\n          user = _this$state.user;\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, !user ? React.createElement(LoginForm, {\n      socket: socket,\n      setUser: this.setUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }) : React.createElement(ChatContainer, {\n      socket: socket,\n      user: user,\n      logout: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/user/Desktop/REACT/chat-apppp/src/Layout.js"],"names":["React","Component","io","USER_CONNECTED","LOGOUT","LoginForm","ChatContainer","socketUrl","Layout","constructor","props","initSocket","socket","on","console","log","setState","setUser","user","state","emit","logout","componentWillMount","render","title"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,SAASC,cAAT,EAAyBC,MAAzB,QAAuC,UAAvC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,aAAP,MAA0B,sBAA1B;AAEA,MAAMC,SAAS,GAAG,uBAAlB;AACA,eAAe,MAAMC,MAAN,SAAqBP,SAArB,CAA+B;AAE7CQ,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAcnBC,UAdmB,GAcN,MAAI;AAChB,YAAMC,MAAM,GAAGV,EAAE,CAACK,SAAD,CAAjB;AAEAK,MAAAA,MAAM,CAACC,EAAP,CAAU,SAAV,EAAqB,MAAI;AACxBC,QAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACA,OAFD;AAIA,WAAKC,QAAL,CAAc;AAACJ,QAAAA;AAAD,OAAd;AACA,KAtBkB;;AAAA,SAyBnBK,OAzBmB,GAyBRC,IAAD,IAAQ;AAAA,YACTN,MADS,GACE,KAAKO,KADP,CACTP,MADS;AAEjBA,MAAAA,MAAM,CAACQ,IAAP,CAAYjB,cAAZ,EAA4Be,IAA5B;AACA,WAAKF,QAAL,CAAc;AAACE,QAAAA;AAAD,OAAd;AACA,KA7BkB;;AAAA,SAgCnBG,MAhCmB,GAgCV,MAAI;AAAA,YACJT,MADI,GACO,KAAKO,KADZ,CACJP,MADI;AAEZA,MAAAA,MAAM,CAACQ,IAAP,CAAYhB,MAAZ;AACA,WAAKY,QAAL,CAAc;AAACE,QAAAA,IAAI,EAAC;AAAN,OAAd;AAEA,KArCkB;;AAGjB,SAAKC,KAAL,GAAa;AACZP,MAAAA,MAAM,EAAC,IADK;AAEZM,MAAAA,IAAI,EAAC;AAFO,KAAb;AAID;;AAEDI,EAAAA,kBAAkB,GAAG;AACpB,SAAKX,UAAL;AACA;;AA6BDY,EAAAA,MAAM,GAAG;AAAA,UACAC,KADA,GACU,KAAKd,KADf,CACAc,KADA;AAAA,wBAEiB,KAAKL,KAFtB;AAAA,UAEAP,MAFA,eAEAA,MAFA;AAAA,UAEQM,IAFR,eAEQA,IAFR;AAGR,WACC;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEE,CAACA,IAAD,GACA,oBAAC,SAAD;AAAW,MAAA,MAAM,EAAEN,MAAnB;AAA2B,MAAA,OAAO,EAAE,KAAKK,OAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,GAGA,oBAAC,aAAD;AAAe,MAAA,MAAM,EAAEL,MAAvB;AAA+B,MAAA,IAAI,EAAEM,IAArC;AAA2C,MAAA,MAAM,EAAE,KAAKG,MAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,CADD;AAUA;;AAvD4C","sourcesContent":["import React, { Component } from 'react';\r\nimport io from 'socket.io-client'\r\nimport { USER_CONNECTED, LOGOUT } from './Events'\r\nimport LoginForm from './LoginForm'\r\nimport ChatContainer from './chat/ChatContainer'\r\n\r\nconst socketUrl = \"http://localhost:3231\"\r\nexport default class Layout extends Component {\r\n\r\n\tconstructor(props) {\r\n\t  super(props);\r\n\r\n\t  this.state = {\r\n\t  \tsocket:null,\r\n\t  \tuser:null\r\n\t  };\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n\t\tthis.initSocket()\r\n\t}\r\n\r\n\r\n\tinitSocket = ()=>{\r\n\t\tconst socket = io(socketUrl)\r\n\r\n\t\tsocket.on('connect', ()=>{\r\n\t\t\tconsole.log(\"Connected\");\r\n\t\t})\r\n\r\n\t\tthis.setState({socket})\r\n\t}\r\n\r\n\r\n\tsetUser = (user)=>{\r\n\t\tconst { socket } = this.state\r\n\t\tsocket.emit(USER_CONNECTED, user);\r\n\t\tthis.setState({user})\r\n\t}\r\n\r\n\r\n\tlogout = ()=>{\r\n\t\tconst { socket } = this.state\r\n\t\tsocket.emit(LOGOUT)\r\n\t\tthis.setState({user:null})\r\n\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconst { title } = this.props\r\n\t\tconst { socket, user } = this.state\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t{\r\n\t\t\t\t\t!user ?\r\n\t\t\t\t\t<LoginForm socket={socket} setUser={this.setUser} />\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<ChatContainer socket={socket} user={user} logout={this.logout}/>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}